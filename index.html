<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>Stinica - Rab Ferry Timetable 2025</title>
  

</head>
<body>
<!-- partial:index.partial.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Stinica - Rab Red Plovidbe 2025</title>
  <style>
    body {
     
      background-color: #1a1a1a; /* Base dark color */
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12'%3E%3Crect width='12' height='12' fill='%23171717'/%3E%3Cpath fill='%23333333'       d='M0 0h2v2H0zm4 4h2v2H4zm8 8h2v2h-2zM6 6h2v2H6zm-4 8h2v2H2z'/%3E%3C/svg%3E");

  
      
      font-family: ui-monospace, Menlo, Monaco, monospace;
      color: #e0e0e0;
      margin: 0;
      padding: 20px;
    }

    a {
      outline-color: transparent;
      text-decoration: none;
    }

    a:link { color: #6900ff; }
    a:visited { color: #00A0DD; }
    a:focus { background: #bae498; }
    a:hover { background: #cdfeaa; }
    a:active { background: #6900ff; color: #cdfeaa; }

    h1, h2 {
      color: #ffffff;
      text-align: center;
    }

    h1 { font-size: 2.5rem; margin-bottom: 20px; }
    h2 { font-size: 1.8rem; margin: 30px 0 10px; }

    table {
      width: 100%;
      max-width: 800px;
      margin: 0 auto;
      border-collapse: collapse;
      background-color: rgba(20, 20, 20, 0.9);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    th, td {
      padding: 15px;
      border: 1px solid #333;
      text-align: center !important;
    }

    th {
      background-color: #2c3e50;
      font-size: 1.2rem;
    }

    td { font-size: 1.1rem; }

    .camera-links {
      margin: 40px auto;
      text-align: center;
    }

    .camera-links a {
      display: inline-block;
      margin: 10px;
      padding: 10px 20px;
      background-color: #3498db;
      color: #ffffff;
      border-radius: 5px;
      transition: background-color 0.3s ease;
    }

    .camera-links a:hover { background-color: #2980b9; }

    iframe, img {
      width: 100%;
      max-width: 800px;
      height: auto;
      margin: 20px auto;
      display: block;
      background-color: #1e1e1e;
    }

    iframe { height: 450px; }

    .full-schedule-container {
      margin-top: 30px;
      text-align: center;
    }

    #toggleSchedule {
      color: #3498db;
      font-size: 1.1rem;
      display: inline-block;
      margin-bottom: 10px;
    }

    .full-schedule {
      display: none;
      width: 100%;
      max-width: 800px;
    }

    .full-schedule.show { display: table; }

    .camera-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 20px;
      max-width: 800px;
      margin: 20px auto;
      justify-items: center;
    }

    .camera-grid img {
      border-radius: 8px;
      border: 2px solid #3498db;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    
     .images {
      
      border: 2px solid #3498db;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }

    @media (max-width: 600px) {
      .camera-grid { grid-template-columns: 1fr; }
    }
  </style>
</head>
  
<body>
  <h1>Stinica - Rab Red Plovidbe 2025</h1>

  <!-- Next Departures Table -->
  <h2>Sljedeca tri polaska</h2>
  <table id="nextDepartures">
    <thead>
      <tr>
        <th>Iz Stinice</th>
        <th>Sa Misnjaka</th>
      </tr>
    </thead>
    <tbody>
      <!-- JavaScript will populate this -->
    </tbody>
  </table>
  
  <div class="full-schedule-container">
  <a href="#" id="toggleSchedule" onclick="toggleFullSchedule()">Vidi cijeli raspored za danas</a>
  <table id="fullSchedule" class="full-schedule">
    <thead>
      <tr>
        <th>Iz Stinice</th>
        <th>Sa Misnjaka</th>
      </tr>
    </thead>
    <tbody>
      <!-- JavaScript will populate this -->
    </tbody>
  </table>
</div>

<!-- Live Cameras Section -->
<h2>Stinica kamere</h2>
<div class="camera-grid">
  <img src="https://tinyurl.com/262ekcr6" alt="Stinica Camera 1" loading="lazy">
  <img src="https://tinyurl.com/4fv5nbrt" alt="Stinica Camera 2" loading="lazy">
</div>

<h2>Misnjak kamere</h2>
<div class="camera-grid">
  <img src="https://tinyurl.com/2zsetck6" alt="Misnjak Camera 1" loading="lazy">
  <img src="https://tinyurl.com/3dr85d83" alt="Misnjak Camera 2" loading="lazy">
</div>

  <!-- Live Camera Links -->
  <h2>Linkovi na kamere</h2>
  <div class="camera-links">
    <a href="https://m.hak.hr/kamera.asp?g=5&k=135" target="_blank">Stinica Live</a>
    <a href="https://m.hak.hr/kamera.asp?g=5&k=19" target="_blank">Rab - Misnjak Live</a>
  </div>
  
 

</div>

  <!-- Wind Map (Image) -->
  
  
  <h2><a href="https://meteo.hr/prognoze.php?section=prognoze_model&param=ala_k&el=web_uv10_SENJ_" target="_blank">Vjetar Kvarner</a></h2>

  <img id="windMap" src="" alt="Wind Map" style="border-radius: 8px; border: 2px solid #3498db;"">
 

  <!-- Windy.com Embed -->
  
  <h2>Vjetar Rab (Windy.com)</h2>
  
  <iframe
    width="100%"
    height="450"
    src="https://embed.windy.com/embed2.html?lat=44.750&lon=14.750&zoom=9&level=surface&overlay=wind&menu=&message=&marker=&calendar=&pressure=&type=map&location=coordinates&detail=&detailLat=44.750&detailLon=14.750&metricWind=default&metricTemp=default&radarRange=-1"
    frameborder="0"
    style="border-radius: 8px; border: 2px solid #3498db;"
  ></iframe>
    

  <script>
    // Ferry timetable data for all months
    const timetable = {
  misnjak: {
    january: ["5:45", "6:45", "7:45", "8:45", "11:00", "12:00", "13:00", "15:00", "16:00", "17:30", "19:30", "21:30", "23:30"],
    february: ["5:45", "6:45", "7:45", "8:45", "11:00", "12:00", "13:00", "15:00", "16:00", "17:30", "19:30", "21:30", "23:30"],
    march: ["5:45", "6:45", "7:45", "8:45", "11:00", "12:00", "13:00", "15:00", "16:00", "17:30", "19:30", "21:30", "23:30"],
    april: ["5:45", "6:45", "7:45", "8:45", "10:30", "12:00", "13:00", "15:00", "16:00", "17:30", "19:30", "20:30", "21:30", "23:30"],
    may: ["5:00", "5:45", "6:45", "7:45", "8:45", "10:30", "11:30", "12:30", "13:30", "15:00", "16:00", "17:00", "18:00", "19:00", "20:00", "21:30", "23:30"],
    june: ["5:00", "5:45", "6:45", "7:45", "8:45", "10:30", "11:30", "12:30", "13:30", "15:00", "16:00", "17:00", "18:00", "19:00", "20:00", "21:30", "23:30"],
    july: ["4:00", "5:00", "5:45", "6:30", "7:30", "8:30", "9:30", "10:00", "10:30", "11:00", "12:00", "13:00", "14:00", "15:00", "16:00", "17:00", "18:00", "18:30", "19:30", "20:30", "21:30", "22:30", "23:30"],
    august: ["4:00", "5:00", "5:45", "6:30", "7:30", "8:30", "9:30", "10:00", "10:30", "11:00", "12:00", "13:00", "14:00", "15:00", "16:00", "17:00", "18:00", "18:30", "19:30", "20:30", "21:30", "22:30", "23:30"],
    september: ["5:00", "5:45", "6:45", "7:45", "8:45", "10:30", "11:30", "12:30", "13:30", "15:00", "16:00", "17:00", "18:00", "19:00", "20:00", "21:30", "23:30"],
    october: ["5:45", "6:45", "7:45", "8:45", "10:30", "12:00", "13:00", "15:00", "16:00", "17:30", "19:30", "21:30", "23:30"],
    november: ["5:45", "6:45", "7:45", "8:45", "10:30", "12:00", "13:00", "15:00", "16:00", "17:30", "19:30", "21:30", "23:30"],
    december: ["5:45", "6:45", "7:45", "8:45", "10:30", "12:00", "13:00", "15:00", "16:00", "17:30", "19:30", "21:30", "23:30"]
  },
  stinica: {
    january: ["6:15", "7:15", "8:15", "9:15", "11:00", "12:30", "14:00", "15:30", "16:30", "18:30", "20:30", "22:00", "24:00"],
    february: ["6:15", "7:15", "8:15", "9:15", "11:00", "12:30", "14:00", "15:30", "16:30", "18:30", "20:30", "22:00", "24:00"],
    march: ["6:15", "7:15", "8:15", "9:15", "11:00", "12:30", "14:00", "15:30", "16:30", "18:30", "20:30", "22:00", "24:00"],
    april: ["6:15", "7:15", "8:15", "9:15", "11:00", "12:30", "14:00", "15:30", "16:30", "18:30", "20:00", "21:00", "22:00", "24:00"],
    may: ["5:30", "6:15", "7:15", "8:15", "9:15", "11:00", "12:00", "13:00", "14:00", "15:30", "16:30", "17:30", "18:30", "19:30", "20:30", "22:00", "24:00"],
    june: ["5:30", "6:15", "7:15", "8:15", "9:15", "11:00", "12:00", "13:00", "14:00", "15:30", "16:30", "17:30", "18:30", "19:30", "20:30", "22:00", "24:00"],
    july: ["4:30", "5:30", "6:15", "7:00", "8:00", "9:00", "10:00", "10:30", "11:00", "11:30", "12:30", "13:30", "14:30", "15:30", "16:30", "17:30", "18:30", "19:00", "20:00", "21:00", "22:00", "23:00", "24:00"],
    august: ["4:30", "5:30", "6:15", "7:00", "8:00", "9:00", "10:00", "10:30", "11:00", "11:30", "12:30", "13:30", "14:30", "15:30", "16:30", "17:30", "18:30", "19:00", "20:00", "21:00", "22:00", "23:00", "24:00"],
    september: ["5:30", "6:15", "7:15", "8:15", "9:15", "11:00", "12:00", "13:00", "14:00", "15:30", "16:30", "17:30", "18:30", "19:30", "20:30", "22:00", "24:00"],
    october: ["6:15", "7:15", "8:15", "9:15", "11:00", "12:30", "14:00", "15:30", "16:30", "18:30", "20:30", "22:00", "24:00"],
    november: ["6:15", "7:15", "8:15", "9:15", "11:00", "12:30", "14:00", "15:30", "16:30", "18:30", "20:30", "22:00", "24:00"],
    december: ["6:15", "7:15", "8:15", "9:15", "11:00", "12:30", "14:00", "15:30", "16:30", "18:30", "20:30", "22:00", "24:00"]
  }
};

    // Function to get the current month
    function getCurrentMonth() {
      const months = ["january", "february", "march", "april", "may", "june", "july", "august", "september", "october", "november", "december"];
      const now = new Date();
      return months[now.getMonth()];
    }

    // Function to convert time string to Date object
    function getTimeObject(timeString) {
      const [hours, minutes] = timeString.split(":");
      const date = new Date();
      date.setHours(parseInt(hours), parseInt(minutes), 0, 0);
      return date;
    }

    // Function to get the next three departures
    function getNextDepartures(departures, currentTime) {
      return departures
        .map(time => getTimeObject(time))
        .filter(time => time > currentTime)
        .slice(0, 3); // Get the next three departures
    }

    // Function to format time as HH:MM
    function formatTime(date) {
      return date.toTimeString().slice(0, 5);
    }

    // Function to update the table
    function updateTable() {
      const now = new Date();
      const currentMonth = getCurrentMonth();
      const nextStinica = getNextDepartures(timetable.stinica[currentMonth], now);
      const nextMisnjak = getNextDepartures(timetable.misnjak[currentMonth], now);

      const tableBody = document.querySelector("#nextDepartures tbody");
      tableBody.innerHTML = ""; // Clear existing rows

      // Add rows for the next departures
      for (let i = 0; i < 3; i++) {
        const row = document.createElement("tr");
        const stinicaCell = document.createElement("td");
        const misnjakCell = document.createElement("td");

        stinicaCell.textContent = nextStinica[i] ? formatTime(nextStinica[i]) : "Nema vise polazaka danas";
        misnjakCell.textContent = nextMisnjak[i] ? formatTime(nextMisnjak[i]) : "Nema vise polazaka danas";

        row.appendChild(stinicaCell);
        row.appendChild(misnjakCell);
        tableBody.appendChild(row);
      }
    }

    // Function to generate the wind map URL
    function generateWindMapUrl() {
  const now = new Date();
  const hour = now.getHours();
  
  // Determine which subtraction to use based on time of day
  const isMorningPeriod = hour >= 1 && hour < 13; // 01:00-12:59
  const subtraction = isMorningPeriod ? 7 : 14;

  // Calculate adjusted hour with proper wrapping
  let adjustedHour = (hour - subtraction + 24) % 24;
  
  // Format to 2-digit string
  const formattedHour = String(adjustedHour).padStart(2, '0');
  
  return `https://prognoza.hr/aladinHR/web_uv10_SENJ_${formattedHour}.png`;
}

    // Set the wind map image source dynamically
    document.getElementById('windMap').src = generateWindMapUrl();

    // Update the table every minute
    setInterval(updateTable, 60000);
    updateTable(); // Initial update
    
    // Add these functions to your existing script
  function populateFullSchedule() {
    const currentMonth = getCurrentMonth();
    const stinicaTimes = timetable.stinica[currentMonth];
    const misnjakTimes = timetable.misnjak[currentMonth];
    const maxLength = Math.max(stinicaTimes.length, misnjakTimes.length);
    const tbody = document.querySelector("#fullSchedule tbody");
    
    tbody.innerHTML = "";

    for (let i = 0; i < maxLength; i++) {
      const row = document.createElement("tr");
      const stinicaCell = document.createElement("td");
      const misnjakCell = document.createElement("td");

      stinicaCell.textContent = stinicaTimes[i] || "-";
      misnjakCell.textContent = misnjakTimes[i] || "-";

      row.appendChild(stinicaCell);
      row.appendChild(misnjakCell);
      tbody.appendChild(row);
    }
  }

  function toggleFullSchedule() {
    const table = document.getElementById("fullSchedule");
    const link = document.getElementById("toggleSchedule");
    
    if (table.classList.contains("show")) {
      table.classList.remove("show");
      link.textContent = "Vidi cijeli raspored";
    } else {
      if (tbody.children.length === 0) populateFullSchedule();
      table.classList.add("show");
      link.textContent = "Zatvori cijeli raspored";
    }
    
    return false; // Prevent default link behavior
  }
    
    // Modified toggle function
    function toggleFullSchedule() {
        const table = document.getElementById("fullSchedule");
        const link = document.getElementById("toggleSchedule");
        const tbody = table.querySelector('tbody'); // Added this line

        if (table.classList.contains("show")) {
            table.classList.remove("show");
            link.textContent = "Vidi cijeli raspored";
        } else {
            if (tbody.children.length === 0) populateFullSchedule();
            table.classList.add("show");
            link.textContent = "Zatvori cijeli raspored";
        }
        return false;
    }
    
  </script>
</body>
</html>
<!-- partial -->
  
</body>
</html>
<!-- partial -->
  
</body>
</html>
